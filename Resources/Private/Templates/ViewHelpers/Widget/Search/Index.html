<script src="{f:uri.resource(path: 'Contrib/visualsearch/build/visualsearch.js', package: 'KayStrobach.VisualSearch')}" type="text/javascript"></script>
<!--[if (!IE)|(gte IE 8)]><!-->
<link href="{f:uri.resource(path: 'Contrib/visualsearch/build/visualsearch-datauri.css', package: 'KayStrobach.VisualSearch')}" media="screen" rel="stylesheet" type="text/css" />
<!--<![endif]-->
<!--[if lte IE 7]><!-->
<link href="{f:uri.resource(path: 'Contrib/visualsearch/build/visualsearch.css', package: 'KayStrobach.VisualSearch')}" media="screen" rel="stylesheet" type="text/css" />
<!--<![endif]-->


<div class="visual_search"></div>

<script type="text/javascript" charset="utf-8">
	$(document).ready(function() {
		var visualSearch = VS.init({
			container : $('.visual_search'),
			query     : '',
			callbacks : {
				search       : function(query, searchCollection) {},
				facetMatches : function(callback) {
					callback([
						'account', 'filter', 'access', 'title',
						{ label: 'city',    category: 'location' },
						{ label: 'address', category: 'location' },
						{ label: 'country', category: 'location' },
						{ label: 'state',   category: 'location' },
					]);
				},
				valueMatches : function(facet, searchTerm, callback) {
					switch (facet) {
						case 'account':
							callback([
								{ value: '1-amanda', label: 'Amanda' },
								{ value: '2-aron',   label: 'Aron' },
								{ value: '3-eric',   label: 'Eric' },
								{ value: '4-jeremy', label: 'Jeremy' },
								{ value: '5-samuel', label: 'Samuel' },
								{ value: '6-scott',  label: 'Scott' }
							]);
							break;
						case 'filter':
							callback(['published', 'unpublished', 'draft']);
							break;
						case 'access':
							callback(['public', 'private', 'protected']);
							break;
						case 'title':
							callback([
								'Pentagon Papers',
								'CoffeeScript Manual',
								'Laboratory for Object Oriented Thinking',
								'A Repository Grows in Brooklyn'
							]);
							break;
					}
				}
			}
		});
	});
</script>